<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz — Supplier Code of Conduct | Salvatore Ferragamo Group</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --gold: #B8963E;
      --gold-light: #D4AF62;
      --gold-pale: #F5EDD6;
      --ink: #1A1714;
      --ink-mid: #3D3730;
      --ink-soft: #6B6058;
      --cream: #FAF7F2;
      --white: #FFFFFF;
      --border: #E2D9C8;
      --correct: #2D6A4F;
      --correct-bg: #EEF7F2;
      --wrong: #9B2335;
      --wrong-bg: #FBEEF0;
      --neutral: #4A6FA5;
      --neutral-bg: #EDF2FA;
      --shadow: 0 4px 32px rgba(26,23,20,0.08);
      --shadow-card: 0 2px 16px rgba(26,23,20,0.06);
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--cream);
      color: var(--ink);
      min-height: 100vh;
      font-size: 15px;
      line-height: 1.65;
    }

    /* ─── HEADER ─── */
    .site-header {
      background: var(--ink);
      color: var(--white);
      padding: 0;
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 2px solid var(--gold);
    }
    .header-inner {
      max-width: 900px;
      margin: 0 auto;
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .brand-monogram {
      width: 36px;
      height: 36px;
      border: 1.5px solid var(--gold);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Cormorant Garamond', serif;
      font-size: 18px;
      color: var(--gold);
      letter-spacing: 1px;
      flex-shrink: 0;
    }
    .brand-text {
      display: flex;
      flex-direction: column;
    }
    .brand-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 15px;
      font-weight: 600;
      color: var(--white);
      letter-spacing: 1.5px;
      text-transform: uppercase;
      line-height: 1.2;
    }
    .brand-sub {
      font-size: 11px;
      color: var(--gold-light);
      letter-spacing: 0.5px;
      font-weight: 300;
    }
    .progress-wrap {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
    }
    .progress-label {
      font-size: 11px;
      color: rgba(255,255,255,0.55);
      letter-spacing: 0.5px;
      white-space: nowrap;
    }
    #progress-bar-outer {
      width: 120px;
      height: 3px;
      background: rgba(255,255,255,0.15);
      border-radius: 2px;
      overflow: hidden;
    }
    #progress-bar-fill {
      height: 100%;
      background: var(--gold);
      border-radius: 2px;
      width: 0%;
      transition: width 0.5s ease;
    }
    #progress-counter {
      font-size: 11px;
      color: var(--gold-light);
      letter-spacing: 0.5px;
      min-width: 32px;
      text-align: right;
    }

    /* ─── MAIN ─── */
    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 24px 80px;
    }

    /* ─── INTRO CARD ─── */
    .intro-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-top: 3px solid var(--gold);
      padding: 40px 48px;
      margin-bottom: 40px;
      box-shadow: var(--shadow-card);
    }
    .intro-label {
      font-size: 11px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--gold);
      font-weight: 500;
      margin-bottom: 10px;
    }
    .intro-card h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 36px;
      font-weight: 600;
      line-height: 1.2;
      color: var(--ink);
      margin-bottom: 6px;
    }
    .intro-card h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 20px;
      font-weight: 400;
      font-style: italic;
      color: var(--ink-soft);
      margin-bottom: 24px;
    }

    .meta-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1px;
      background: var(--border);
      border: 1px solid var(--border);
      margin-bottom: 28px;
    }
    .meta-item {
      background: var(--cream);
      padding: 14px 16px;
      text-align: center;
    }
    .meta-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 600;
      color: var(--gold);
      display: block;
      line-height: 1.2;
    }
    .meta-key {
      font-size: 11px;
      color: var(--ink-soft);
      letter-spacing: 0.5px;
    }

    .theme-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 16px;
    }
    .theme-badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 4px 10px;
      border-radius: 2px;
      font-size: 11.5px;
      font-weight: 500;
      letter-spacing: 0.3px;
    }
    .theme-badge.etica    { background: #F0EBE0; color: #7A5C28; border: 1px solid #D4B87A; }
    .theme-badge.lavoro   { background: #EAF0F5; color: #2D5073; border: 1px solid #7BAACA; }
    .theme-badge.ecosist  { background: #EAF2EC; color: #2A5C3A; border: 1px solid #7AB88A; }
    .theme-badge.prodotto { background: #F0EAF5; color: #5A2D73; border: 1px solid #AA7AC8; }
    .theme-badge.gov      { background: #F5EAEA; color: #732D2D; border: 1px solid #C87A7A; }
    .theme-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .theme-badge.etica .theme-dot    { background: #B8963E; }
    .theme-badge.lavoro .theme-dot   { background: #4A8AB8; }
    .theme-badge.ecosist .theme-dot  { background: #4A9B5E; }
    .theme-badge.prodotto .theme-dot { background: #8B5AB8; }
    .theme-badge.gov .theme-dot      { background: #B85A5A; }

    .user-fields {
      display: grid;
      grid-template-columns: 1fr auto auto;
      gap: 12px;
      margin-top: 24px;
      align-items: end;
    }
    .field-group { display: flex; flex-direction: column; gap: 4px; }
    .field-group label { font-size: 11px; color: var(--ink-soft); letter-spacing: 0.5px; text-transform: uppercase; }
    .field-group input {
      background: var(--cream);
      border: 1px solid var(--border);
      padding: 8px 12px;
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      color: var(--ink);
      outline: none;
      transition: border-color 0.2s;
    }
    .field-group input:focus { border-color: var(--gold); }

    .btn-start {
      background: var(--gold);
      color: var(--white);
      border: none;
      padding: 10px 28px;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s;
      white-space: nowrap;
      align-self: end;
    }
    .btn-start:hover { background: var(--gold-light); transform: translateY(-1px); }

    /* ─── QUIZ AREA ─── */
    #quiz-area { display: none; }

    .section-divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0 0 32px;
    }
    .section-divider::before, .section-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border);
    }
    .section-divider span {
      font-size: 11px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--ink-soft);
      white-space: nowrap;
    }

    /* ─── QUESTION CARD ─── */
    .question-card {
      background: var(--white);
      border: 1px solid var(--border);
      margin-bottom: 24px;
      box-shadow: var(--shadow-card);
      transition: box-shadow 0.2s;
      animation: slideIn 0.3s ease;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(12px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .question-card.answered { box-shadow: none; }

    .q-header {
      display: flex;
      align-items: center;
      gap: 0;
      border-bottom: 1px solid var(--border);
    }
    .q-num {
      padding: 14px 18px;
      background: var(--ink);
      color: var(--gold-light);
      font-family: 'Cormorant Garamond', serif;
      font-size: 20px;
      font-weight: 600;
      min-width: 60px;
      text-align: center;
      flex-shrink: 0;
    }
    .q-theme-tag {
      padding: 14px 14px;
      font-size: 11px;
      letter-spacing: 0.8px;
      text-transform: uppercase;
      font-weight: 500;
      flex-shrink: 0;
      border-right: 1px solid var(--border);
    }
    .q-theme-tag.etica    { color: #7A5C28; background: #FAF5EB; }
    .q-theme-tag.lavoro   { color: #2D5073; background: #F0F5FA; }
    .q-theme-tag.ecosist  { color: #2A5C3A; background: #EEF5F0; }
    .q-theme-tag.prodotto { color: #5A2D73; background: #F5EEF9; }
    .q-theme-tag.gov      { color: #732D2D; background: #F9EEEE; }

    .q-status {
      margin-left: auto;
      padding: 14px 18px;
      font-size: 18px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .q-text {
      padding: 22px 24px 18px;
      font-size: 15px;
      line-height: 1.6;
      color: var(--ink-mid);
    }

    .options-list {
      list-style: none;
      padding: 0 24px 24px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .option-item {
      display: flex;
      align-items: flex-start;
      gap: 0;
      border: 1.5px solid var(--border);
      cursor: pointer;
      transition: border-color 0.15s, background 0.15s;
      user-select: none;
    }
    .option-item:hover { border-color: var(--gold); background: var(--gold-pale); }
    .option-item.selected { border-color: var(--gold); background: var(--gold-pale); }
    .option-item.correct { border-color: var(--correct); background: var(--correct-bg); cursor: default; }
    .option-item.wrong   { border-color: var(--wrong);   background: var(--wrong-bg);  cursor: default; }
    .option-item.reveal  { border-color: var(--correct); background: var(--correct-bg); cursor: default; }
    .option-item.locked  { cursor: default; }
    .option-item.locked:hover:not(.correct):not(.wrong):not(.reveal) { border-color: var(--border); background: transparent; }

    .option-letter {
      padding: 11px 14px;
      font-family: 'Cormorant Garamond', serif;
      font-size: 17px;
      font-weight: 600;
      color: var(--ink-soft);
      border-right: 1.5px solid var(--border);
      flex-shrink: 0;
      min-width: 44px;
      text-align: center;
    }
    .option-item.correct .option-letter { color: var(--correct); border-color: var(--correct); }
    .option-item.wrong   .option-letter { color: var(--wrong);   border-color: var(--wrong); }
    .option-item.reveal  .option-letter { color: var(--correct); border-color: var(--correct); }

    .option-text {
      padding: 11px 14px;
      font-size: 14px;
      line-height: 1.5;
      color: var(--ink-mid);
      flex: 1;
    }

    /* Explanation */
    .explanation {
      display: none;
      margin: 0 24px 20px;
      padding: 14px 16px;
      border-left: 3px solid var(--gold);
      background: var(--gold-pale);
      font-size: 13.5px;
      line-height: 1.6;
      color: var(--ink-mid);
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }
    .explanation.show { display: block; }
    .explanation strong { color: var(--ink); font-weight: 500; }

    /* ─── NAVIGATION ─── */
    .q-nav {
      display: flex;
      justify-content: flex-end;
      padding: 0 24px 20px;
    }
    .btn-confirm {
      background: var(--ink);
      color: var(--white);
      border: none;
      padding: 9px 24px;
      font-family: 'DM Sans', sans-serif;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      transition: background 0.2s;
    }
    .btn-confirm:hover { background: var(--ink-mid); }
    .btn-confirm:disabled { background: var(--border); color: var(--ink-soft); cursor: not-allowed; }

    /* ─── SUBMIT SECTION ─── */
    #submit-section {
      display: none;
      background: var(--white);
      border: 1px solid var(--border);
      border-top: 3px solid var(--gold);
      padding: 40px 48px;
      margin-top: 40px;
      text-align: center;
      box-shadow: var(--shadow-card);
    }
    #submit-section h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    #submit-section p { color: var(--ink-soft); margin-bottom: 24px; font-size: 14px; }
    .btn-submit {
      background: var(--gold);
      color: var(--white);
      border: none;
      padding: 13px 40px;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s;
    }
    .btn-submit:hover { background: var(--gold-light); transform: translateY(-1px); }

    /* ─── RESULTS ─── */
    #results-section {
      display: none;
      animation: slideIn 0.4s ease;
    }
    .results-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-top: 4px solid var(--gold);
      padding: 48px;
      margin-bottom: 32px;
      box-shadow: var(--shadow);
      text-align: center;
    }
    .results-label {
      font-size: 11px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 16px;
    }
    .score-display {
      font-family: 'Cormorant Garamond', serif;
      font-size: 80px;
      font-weight: 600;
      line-height: 1;
      color: var(--ink);
      margin-bottom: 4px;
    }
    .score-denom {
      font-size: 32px;
      color: var(--ink-soft);
    }
    .score-pct {
      font-size: 18px;
      color: var(--ink-soft);
      margin-bottom: 20px;
    }
    .grade-badge {
      display: inline-block;
      padding: 10px 28px;
      font-size: 14px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 28px;
    }
    .grade-badge.eccellente { background: #E8F5E9; color: #1B5E20; border: 1px solid #4CAF50; }
    .grade-badge.buono      { background: #E3F2FD; color: #0D47A1; border: 1px solid #42A5F5; }
    .grade-badge.suff       { background: #FFF8E1; color: #E65100; border: 1px solid #FFB74D; }
    .grade-badge.insuff     { background: #FFEBEE; color: #B71C1C; border: 1px solid #EF9A9A; }

    .grade-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1px;
      background: var(--border);
      border: 1px solid var(--border);
      margin-bottom: 24px;
    }
    .grade-cell {
      background: var(--cream);
      padding: 16px;
      text-align: center;
    }
    .grade-cell-val {
      font-family: 'Cormorant Garamond', serif;
      font-size: 24px;
      font-weight: 600;
      color: var(--gold);
    }
    .grade-cell-key { font-size: 11px; color: var(--ink-soft); }

    .area-breakdown {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin-top: 24px;
    }
    .area-cell {
      border: 1px solid var(--border);
      padding: 14px 10px;
      text-align: center;
      background: var(--cream);
    }
    .area-cell-name { font-size: 11px; color: var(--ink-soft); margin-bottom: 6px; }
    .area-cell-score {
      font-family: 'Cormorant Garamond', serif;
      font-size: 20px;
      font-weight: 600;
      color: var(--ink);
    }
    .area-cell-score.perfect { color: var(--correct); }

    .btn-review {
      background: transparent;
      color: var(--ink);
      border: 1.5px solid var(--ink);
      padding: 10px 28px;
      font-family: 'DM Sans', sans-serif;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 10px;
      transition: background 0.2s;
    }
    .btn-review:hover { background: var(--cream); }
    .btn-reset {
      background: var(--gold);
      color: var(--white);
      border: none;
      padding: 10px 28px;
      font-family: 'DM Sans', sans-serif;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      margin-top: 8px;
      transition: background 0.2s;
    }
    .btn-reset:hover { background: var(--gold-light); }

    /* ─── REVIEW ─── */
    .review-note {
      text-align: center;
      color: var(--ink-soft);
      font-size: 13px;
      margin-bottom: 24px;
      font-style: italic;
    }

    /* ─── EVALUATION TABLE ─── */
    .eval-card {
      background: var(--white);
      border: 1px solid var(--border);
      padding: 32px 40px;
      margin-bottom: 24px;
    }
    .eval-card h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      margin-bottom: 20px;
      color: var(--ink);
    }
    .eval-table { width: 100%; border-collapse: collapse; font-size: 13.5px; }
    .eval-table th {
      background: var(--ink);
      color: var(--gold-light);
      padding: 10px 14px;
      text-align: left;
      font-weight: 500;
      letter-spacing: 0.5px;
      font-size: 12px;
    }
    .eval-table td { padding: 10px 14px; border-bottom: 1px solid var(--border); }
    .eval-table tr:last-child td { border-bottom: none; }
    .eval-table tr:nth-child(even) td { background: var(--cream); }

    /* ─── RESPONSIVE ─── */
    @media (max-width: 640px) {
      .intro-card, #submit-section, .results-card, .eval-card { padding: 24px 20px; }
      .meta-grid { grid-template-columns: repeat(2, 1fr); }
      .area-breakdown { grid-template-columns: repeat(3, 1fr); }
      .grade-grid { grid-template-columns: repeat(3, 1fr); }
      .user-fields { grid-template-columns: 1fr; }
      main { padding: 24px 16px 60px; }
      .score-display { font-size: 56px; }
      #progress-bar-outer { width: 70px; }
    }
  </style>
</head>
<body>

<!-- ═══ HEADER ═══ -->
<header class="site-header">
  <div class="header-inner">
    <div class="brand">
      <div class="brand-monogram">SF</div>
      <div class="brand-text">
        <span class="brand-name">Ferragamo Group</span>
        <span class="brand-sub">Supplier Code of Conduct — Assessment</span>
      </div>
    </div>
    <div class="progress-wrap">
      <span class="progress-label">Progress</span>
      <div id="progress-bar-outer"><div id="progress-bar-fill"></div></div>
      <span id="progress-counter">0/20</span>
    </div>
  </div>
</header>

<main>

  <!-- ═══ INTRO ═══ -->
  <div class="intro-card" id="intro-card">
    <div class="intro-label">Assessment Quiz</div>
    <h1>Supplier Code of Conduct</h1>
    <h2>Salvatore Ferragamo Group</h2>

    <div class="meta-grid">
      <div class="meta-item">
        <span class="meta-value">20</span>
        <span class="meta-key">Questions</span>
      </div>
      <div class="meta-item">
        <span class="meta-value">4</span>
        <span class="meta-key">Options each</span>
      </div>
      <div class="meta-item">
        <span class="meta-value">13/20</span>
        <span class="meta-key">Pass threshold</span>
      </div>
      <div class="meta-item">
        <span class="meta-value">18/20</span>
        <span class="meta-key">Excellence threshold</span>
      </div>
    </div>

    <div class="theme-legend">
      <span class="theme-badge etica"><span class="theme-dot"></span>Ethics D1–D4</span>
      <span class="theme-badge lavoro"><span class="theme-dot"></span>Labour D5–D9</span>
      <span class="theme-badge ecosist"><span class="theme-dot"></span>Ecosystems D10–D12</span>
      <span class="theme-badge prodotto"><span class="theme-dot"></span>Product D13–D14</span>
      <span class="theme-badge gov"><span class="theme-dot"></span>Governance D15–D20</span>
    </div>

    <div class="user-fields">
      <div class="field-group" style="grid-column:1/2">
        <label for="field-nome">Full Name</label>
        <input type="text" id="field-nome" placeholder="E.g. Mario Rossi" />
      </div>
      <div class="field-group">
        <label for="field-data">Date</label>
        <input type="date" id="field-data" />
      </div>
      <button class="btn-start" id="btn-start">Start Quiz →</button>
    </div>
  </div>

  <!-- ═══ QUIZ ═══ -->
  <div id="quiz-area">
    <div class="section-divider"><span>Section A — Questions</span></div>
    <div id="questions-container"></div>

    <div id="submit-section">
      <h3>Quiz Completed</h3>
      <p>You have answered all 20 questions. Click to view your results and explanations.</p>
      <button class="btn-submit" id="btn-submit">View Results</button>
    </div>
  </div>

  <!-- ═══ RESULTS ═══ -->
  <div id="results-section">
    <div class="section-divider"><span>Results</span></div>

    <div class="results-card">
      <div class="results-label">Final Score</div>
      <div class="score-display" id="score-num">—<span class="score-denom">/20</span></div>
      <div class="score-pct" id="score-pct"></div>
      <div id="grade-badge" class="grade-badge">—</div>

      <div class="grade-grid">
        <div class="grade-cell">
          <div class="grade-cell-val" id="r-trent">—</div>
          <div class="grade-cell-key">Grade / 30</div>
        </div>
        <div class="grade-cell">
          <div class="grade-cell-val" id="r-dec">—</div>
          <div class="grade-cell-key">Grade / 10</div>
        </div>
        <div class="grade-cell">
          <div class="grade-cell-val" id="r-level">—</div>
          <div class="grade-cell-key">Level</div>
        </div>
      </div>

      <div class="area-breakdown" id="area-breakdown"></div>

      <div style="margin-top:28px">
        <button class="btn-review" id="btn-review">Review Answers</button>
        <button class="btn-reset" id="btn-reset">New Attempt</button>
      </div>
    </div>

    <!-- Evaluation table -->
    <div class="eval-card">
      <h3>Grading Scale</h3>
      <table class="eval-table">
        <thead>
          <tr><th>Score</th><th>Grade /30</th><th>Grade /10</th><th>Level</th></tr>
        </thead>
        <tbody>
          <tr><td>18–20 / 20</td><td>27–30 / 30</td><td>9–10 / 10</td><td>Excellent — Complete mastery of content</td></tr>
          <tr><td>15–17 / 20</td><td>23–26 / 30</td><td>7–8 / 10</td><td>Good — Solid understanding with minor gaps</td></tr>
          <tr><td>13–14 / 20</td><td>18–22 / 30</td><td>6 / 10</td><td>Sufficient — Essential knowledge acquired</td></tr>
          <tr><td>10–12 / 20</td><td>12–17 / 30</td><td>5 / 10</td><td>Insufficient — Requires further study</td></tr>
          <tr><td>0–9 / 20</td><td>&lt; 12 / 30</td><td>&lt; 5 / 10</td><td>Failing — Review of material necessary</td></tr>
        </tbody>
      </table>
    </div>

    <div class="eval-card">
      <h3>Distribution by Thematic Area</h3>
      <table class="eval-table">
        <thead>
          <tr><th>Area</th><th>Questions</th><th>Weight %</th><th>Principles tested</th></tr>
        </thead>
        <tbody>
          <tr><td>Ethics &amp; Integrity</td><td>D1–D4 (4)</td><td>20%</td><td>3.1, 3.2, 3.4, 3.7</td></tr>
          <tr><td>Labour &amp; Human Rights</td><td>D5–D9 (5)</td><td>25%</td><td>3.9, 3.10, 3.11, 3.15, 3.17</td></tr>
          <tr><td>Ecosystem Protection</td><td>D10–D12 (3)</td><td>15%</td><td>3.19, 3.20, 3.21</td></tr>
          <tr><td>Product Responsibility</td><td>D13–D14 (2)</td><td>10%</td><td>3.24, 3.25</td></tr>
          <tr><td>Governance &amp; Cross-cutting</td><td>D15–D20 (6)</td><td>30%</td><td>Sec. 5, 6, 7 + Code structure + CSRD + DPP</td></tr>
        </tbody>
      </table>
    </div>
  </div>

</main>

<script>
const QUESTIONS = [
  {
    id: 'D1', theme: 'etica', themeLabel: 'Ethics',
    text: 'D1. [Ethics]  According to principle 3.1, in the event of a conflict between the Code\'s provisions and applicable local legislation, what must the supplier do?',
    options: [
      'Always apply the Ferragamo Code\'s provisions, which take precedence over everything',
      'Apply the higher standard between the Code and local legislation, reporting the discrepancy to the Group',
      'Apply local legislation, which as law carries superior force',
      'Suspend operations until instructions are received from the Group'
    ],
    correct: 1,
    explanation: 'Principle 3.1 establishes that, in the event of divergence, suppliers must ensure compliance with the highest standard and report the occurrence to the Group via the contacts in section 7.'
  },
  {
    id: 'D2', theme: 'etica', themeLabel: 'Ethics',
    text: 'D2. [Ethics]  Which of the following practices is explicitly prohibited by principle 3.2 on anti-corruption?',
    options: [
      'Exchanging product samples between supplier and customer',
      'Offering a gift that exceeds normal courtesy practices in order to obtain favourable treatment',
      'Organising a team-building event with Ferragamo employees',
      'Requesting a commercial reference before starting a supply relationship'
    ],
    correct: 1,
    explanation: 'The Code prohibits any direct or indirect act of offering money or other benefits, including gifts that exceed normal courtesy, if aimed at exercising undue influence or obtaining improper advantages.'
  },
  {
    id: 'D3', theme: 'etica', themeLabel: 'Ethics',
    text: 'D3. [Ethics]  Regarding principle 3.4 (Intellectual Property), which statement is CORRECT regarding the treatment of designs and technical specifications provided by Ferragamo?',
    options: [
      'The supplier may share the specifications with other customers if it helps improve product quality',
      'At the end of the commercial relationship, materials may be retained as a reference for own R&D',
      'The supplier must use them exclusively to manufacture the products and must immediately cease their use at the end of the contract',
      'Sharing with sub-suppliers is permitted without authorisation if necessary for production'
    ],
    correct: 2,
    explanation: 'Ferragamo\'s technical specifications and know-how are the Group\'s exclusive trade secrets: they must be used solely to manufacture the products, not disclosed, and immediately relinquished at the end of the relationship.'
  },
  {
    id: 'D4', theme: 'etica', themeLabel: 'Ethics',
    text: 'D4. [Ethics]  Principle 3.7 (Made in Italy) requires suppliers to:',
    options: [
      'Produce exclusively in Italy in order to work with Ferragamo',
      'Oppose counterfeiting and ensure correct Made in Italy labelling, contributing to the prosperity of local communities',
      'Use only Italian raw materials for all Group products',
      'Certify their production processes with the "100% Made in Italy" mark'
    ],
    correct: 1,
    explanation: 'Principle 3.7 does not impose production in Italy, but requires correctness in Made in Italy labelling, opposition to counterfeiting, and contribution to the local economy.'
  },
  {
    id: 'D5', theme: 'lavoro', themeLabel: 'Labour',
    text: 'D5. [Labour]  According to principle 3.9 (Child Labour), which of the following scenarios is PERMITTED by the Code?',
    options: [
      'A 15-year-old who works part-time in a workshop at weekends',
      'A seventeen-year-old who works during the day in a workshop, has completed compulsory education, in non-hazardous activities',
      'A sixteen-year-old who works 4 hours on a night shift under adult supervision',
      'A fifteen-year-old on a school internship for 20 hours per week in administrative tasks'
    ],
    correct: 1,
    explanation: 'The Code prohibits the employment of workers under 16 years of age and, for those under 18, prohibits night work and hazardous activities. A 17-year-old who has completed compulsory education, working daytime in non-hazardous activities, is compliant.'
  },
  {
    id: 'D6', theme: 'lavoro', themeLabel: 'Labour',
    text: 'D6. [Labour]  Which of the following is explicitly cited as a form of forced labour or modern slavery under principle 3.10?',
    options: [
      'Requiring the worker to complete a probationary period before permanent employment',
      'Retaining a worker\'s identity documents as a condition of employment',
      'Applying a renewable fixed-term contract for the first year of employment',
      'Requiring the worker\'s availability for paid overtime'
    ],
    correct: 1,
    explanation: 'Principle 3.10 explicitly lists among modern slavery practices: involuntary labour, retention of identity documents, deposits as a condition of hiring, and restrictions on freedom of movement.'
  },
  {
    id: 'D7', theme: 'lavoro', themeLabel: 'Labour',
    text: 'D7. [Labour]  Principle 3.11 on non-discrimination prohibits discrimination based on (choose the most complete answer):',
    options: [
      'Age, gender and physical disability only',
      'Age, ethnic origin, nationality, political and trade union opinions, religious beliefs, sexual orientation, gender identity, physical and psychological disabilities',
      'Gender, nationality and religious beliefs, in accordance with ILO Convention C111',
      'All personal characteristics, including work capacity and level of education'
    ],
    correct: 1,
    explanation: 'Principle 3.11 covers 9 protected dimensions: age, ethnic origin, nationality, political/trade union opinions, religious beliefs, sexual orientation, gender identity, physical and psychological disabilities.'
  },
  {
    id: 'D8', theme: 'lavoro', themeLabel: 'Labour',
    text: 'D8. [Labour]  What does the Code establish regarding remuneration (principle 3.15)?',
    options: [
      'Remuneration must be at least equal to the statutory minimum wage',
      'Remuneration is free, provided it is agreed contractually between the parties',
      'Remuneration must comply with the law AND be adequate to meet primary needs, ensuring living standards that respect dignity',
      'Remuneration must include in-kind benefits for at least 10% of the total'
    ],
    correct: 2,
    explanation: 'Principle 3.15 goes beyond the legal minimum by introducing the concept of a living wage: pay must be sufficient to ensure satisfaction of primary needs and a dignified life.'
  },
  {
    id: 'D9', theme: 'lavoro', themeLabel: 'Labour',
    text: 'D9. [Labour]  Which element is NOT required by principle 3.17 (Regular Working Conditions)?',
    options: [
      'Providing employees with a written and understandable contract',
      'Ensuring social security contributions, welfare and insurance coverage',
      'Allowing workers to access their own registered contractual information',
      'Providing a company supplementary welfare plan beyond the legal minimums'
    ],
    correct: 3,
    explanation: 'Principle 3.17 requires: written contracts, registration and access to information, compliance with legally recognised forms of employment (no irregular workers), social security and insurance contributions. Supplementary welfare is not required.'
  },
  {
    id: 'D10', theme: 'ecosist', themeLabel: 'Ecosystems',
    text: 'D10. [Ecosystems]  Principle 3.19 on animal welfare requires that, in the case of slaughter, animals:',
    options: [
      'Are treated in accordance with CITES regulations for protected species',
      'Must not suffer, in line with the criteria of the European Commission and the OIE (World Organization for Animal Health)',
      'Are slaughtered exclusively by certified veterinary staff',
      'Are slaughtered using methods approved by the national legislation of the country of production'
    ],
    correct: 1,
    explanation: 'Principle 3.19 specifies that animals must not suffer during slaughter, in accordance with the standards of the European Commission and the OIE. CITES relates instead to the trade in at-risk species.'
  },
  {
    id: 'D11', theme: 'ecosist', themeLabel: 'Ecosystems',
    text: 'D11. [Ecosystems]  Regarding energy management (principle 3.20), what are suppliers OBLIGED to do?',
    options: [
      'Use exclusively renewable energy within 3 years of signing the Code',
      'Measure and track energy consumption, distinguishing between renewable and non-renewable sources, and actively reduce GHG emissions',
      'Obtain ISO 50001 certification within the first year of supply',
      'Offset their emissions by purchasing verified carbon offset certificates'
    ],
    correct: 1,
    explanation: 'Principle 3.20 obliges suppliers to measure, track consumption (distinguishing renewable/non-renewable) and actively reduce GHG emissions. Exclusive use of renewables, ISO certification and carbon offsets are recommendations or future commitments, not obligations under the Code.'
  },
  {
    id: 'D12', theme: 'ecosist', themeLabel: 'Ecosystems',
    text: 'D12. [Ecosystems]  Regarding waste management (principle 3.21), what specific obligation is set for suppliers?',
    options: [
      'Eliminate the production of hazardous waste within 2 years',
      'Possess information on the treatment, transport and destination of waste generated in all production stages',
      'Direct at least 50% of waste to recycling or reuse',
      'Mandatorily outsource the management of hazardous waste to certified providers'
    ],
    correct: 1,
    explanation: 'Principle 3.21 obliges suppliers to comply with regulations and to possess information on the management chain of their own waste. The encouragement to recycle is an italicised recommendation, not an obligation.'
  },
  {
    id: 'D13', theme: 'prodotto', themeLabel: 'Product',
    text: 'D13. [Product]  Principle 3.24 on chemical safety makes reference to:',
    options: [
      'The European REACH regulation only',
      'The REACH regulation and the Ferragamo Group\'s proprietary RSL (Restricted Substances List)',
      'Solely the national legislation of the country of production',
      'Only ILO standards relating to chemical risks for workers'
    ],
    correct: 1,
    explanation: 'Principle 3.24 requires compliance with international, European (REACH), national and local regulations, AND the Group\'s proprietary RSL. Ferragamo also reserves the right to carry out chemical tests on raw materials, semi-finished and finished products.'
  },
  {
    id: 'D14', theme: 'prodotto', themeLabel: 'Product',
    text: 'D14. [Product]  Principle 3.25 on traceability requires suppliers to communicate, at the Group\'s request:',
    options: [
      'A complete list of all their customers and suppliers',
      'Information relating to the location where materials and products are produced and processed',
      'Financial data relating to production costs for each order',
      'ISO 9001 quality certificates for each production stage'
    ],
    correct: 1,
    explanation: 'Traceability (3.25) serves to facilitate Ferragamo\'s assessment of environmental and social risks: upon request, suppliers must communicate where materials and products are produced and processed.'
  },
  {
    id: 'D15', theme: 'gov', themeLabel: 'Governance',
    text: 'D15. [Governance]  According to section 5 (Monitoring Activities), which statement is CORRECT regarding monitoring activities?',
    options: [
      'Ferragamo may only conduct audits at direct suppliers, not at sub-suppliers',
      'Audits may be conducted by the Group directly or through third parties, and may extend to all entities in the supply chain',
      'Suppliers may refuse on-site visits if given less than 30 days\' notice',
      'Monitoring is limited to requesting documentation; on-site visits require the supplier\'s written consent'
    ],
    correct: 1,
    explanation: 'Section 5 provides that Ferragamo may request documentation and conduct on-site audits, directly or through third parties, at suppliers, sub-suppliers and any entity in the supply chain. Refusal to cooperate is equivalent to non-compliance.'
  },
  {
    id: 'D16', theme: 'gov', themeLabel: 'Governance',
    text: 'D16. [Governance]  In which of the following cases does the Code provide that Ferragamo may suspend or terminate the commercial relationship?',
    options: [
      'Only in the event of a violation of the section relating to human rights',
      'Only if the supplier fails a third-party audit',
      'In the event of serious or repeated violations, failure to comply with an improvement plan, or refusal to cooperate in monitoring activities',
      'Automatically after three reports to the Ethics Committee'
    ],
    correct: 2,
    explanation: 'Section 6 provides for the possibility of suspension/termination of the relationship — with a potential claim for damages — in the three cases indicated: serious/repeated violations, failure to implement a corrective plan, or refusal to cooperate.'
  },
  {
    id: 'D17', theme: 'gov', themeLabel: 'Governance',
    text: 'D17. [Governance]  To report an alleged violation of the Code, suppliers must contact:',
    options: [
      'The Ferragamo purchasing manager handling their contract',
      'The Ethics Committee, via email (ethics.committee@ferragamo.com) or post (Via Mercalli 205/207, Sesto Fiorentino)',
      'The Ministry of Labour of the country in which the supplier operates',
      'The Group\'s head office in Florence by registered post'
    ],
    correct: 1,
    explanation: 'Section 7 specifically identifies the Ethics Committee as the recipient of violation reports, with the relevant contact details. Commercial contacts should be used for interpretive clarifications, not for violation reports.'
  },
  {
    id: 'D18', theme: 'gov', themeLabel: 'Mixed',
    text: 'D18. [Mixed]  What is the structural difference between provisions written in regular text and those in italics in the Code?',
    options: [
      'Italic provisions apply only to first-tier suppliers, not to sub-suppliers',
      'Regular text contains binding obligations ("are required to"); italics contain recommendations/best practices ("encourages")',
      'Italic provisions relate only to the environmental and animal welfare areas',
      'There is no formal difference: italics are used only for stylistic emphasis'
    ],
    correct: 1,
    explanation: 'The Code systematically adopts a dual register: regular text contains non-negotiable minimum obligations ("are required to"), while italicised sections contain recommendations that the Group encourages but does not impose.'
  },
  {
    id: 'D19', theme: 'gov', themeLabel: 'Mixed',
    text: 'D19. [Mixed]  The Supplier Code of Conduct is relevant to the CSRD because:',
    options: [
      'It is required directly by the CSRD as a mandatory annex to the sustainability report',
      'It demonstrates the existence of supply chain due diligence processes, which the CSRD requires to be reported in relation to the entire value chain',
      'It replaces the sustainability report for companies with fewer than 500 employees',
      'It is recognised by the CSRD as a standard equivalent to the ESRS for human rights'
    ],
    correct: 1,
    explanation: 'The CSRD requires companies to report ESG impacts across the entire value chain (not only direct operations). A formalised supplier code demonstrates that supply chain screening and due diligence processes are in place.'
  },
  {
    id: 'D20', theme: 'gov', themeLabel: 'Mixed',
    text: 'D20. [Mixed]  Which principle of the Code is most directly linked to the Digital Product Passport (DPP) provided for by the European sustainable products strategy?',
    options: [
      '3.18 (Environmental Protection)',
      '3.24 (Chemical Safety of Products)',
      '3.25 (Traceability of Materials and Products)',
      '3.7 (Made in Italy)'
    ],
    correct: 2,
    explanation: 'The European DPP requires detailed digital information on the composition, origin and impact of products throughout the entire value chain. Principle 3.25 on material traceability is the most directly linked to this future regulatory requirement.'
  }
];

const AREAS = [
  { label: 'Ethics', qs: ['D1','D2','D3','D4'], theme: 'etica' },
  { label: 'Labour', qs: ['D5','D6','D7','D8','D9'], theme: 'lavoro' },
  { label: 'Ecosystems', qs: ['D10','D11','D12'], theme: 'ecosist' },
  { label: 'Product', qs: ['D13','D14'], theme: 'prodotto' },
  { label: 'Governance', qs: ['D15','D16','D17','D18','D19','D20'], theme: 'gov' }
];

// ─── STATE ───
let userAnswers = {};
let submitted = false;

// ─── INIT ───
document.getElementById('field-data').value = new Date().toISOString().split('T')[0];

document.getElementById('btn-start').addEventListener('click', () => {
  document.getElementById('intro-card').style.display = 'none';
  document.getElementById('quiz-area').style.display = 'block';
  renderQuestions();
  updateProgress();
});

// ─── RENDER QUESTIONS ───
function renderQuestions() {
  const container = document.getElementById('questions-container');
  container.innerHTML = '';
  QUESTIONS.forEach((q, qi) => {
    const card = document.createElement('div');
    card.className = 'question-card';
    card.id = `qcard-${q.id}`;

    const letters = ['A','B','C','D'];
    const optionsHTML = q.options.map((opt, oi) => `
      <li class="option-item" data-q="${q.id}" data-opt="${oi}" onclick="selectOption('${q.id}', ${oi})">
        <span class="option-letter">${letters[oi]}</span>
        <span class="option-text">${opt}</span>
      </li>`).join('');

    card.innerHTML = `
      <div class="q-header">
        <div class="q-num">${qi + 1}</div>
        <div class="q-theme-tag ${q.theme}">${q.themeLabel}</div>
        <div class="q-status" id="qstatus-${q.id}"></div>
      </div>
      <div class="q-text">${q.text}</div>
      <ul class="options-list" id="opts-${q.id}">${optionsHTML}</ul>
      <div class="explanation" id="expl-${q.id}"></div>
      <div class="q-nav">
        <button class="btn-confirm" id="btn-confirm-${q.id}" disabled onclick="confirmAnswer('${q.id}')">Confirm →</button>
      </div>`;
    container.appendChild(card);
  });
}

function selectOption(qid, optIdx) {
  if (submitted || userAnswers[qid] !== undefined) return;
  const selected = userAnswers[`pending_${qid}`];
  const opts = document.querySelectorAll(`[data-q="${qid}"]`);
  opts.forEach(el => el.classList.remove('selected'));
  document.querySelector(`[data-q="${qid}"][data-opt="${optIdx}"]`).classList.add('selected');
  userAnswers[`pending_${qid}`] = optIdx;
  document.getElementById(`btn-confirm-${qid}`).disabled = false;
}

function confirmAnswer(qid) {
  const optIdx = userAnswers[`pending_${qid}`];
  if (optIdx === undefined) return;
  const q = QUESTIONS.find(q => q.id === qid);
  userAnswers[qid] = optIdx;
  delete userAnswers[`pending_${qid}`];

  const opts = document.querySelectorAll(`[data-q="${qid}"]`);
  opts.forEach(el => {
    el.classList.remove('selected');
    el.classList.add('locked');
    const oi = parseInt(el.dataset.opt);
    if (oi === q.correct) el.classList.add('correct');
    else if (oi === optIdx) el.classList.add('wrong');
  });

  const isCorrect = optIdx === q.correct;
  const statusEl = document.getElementById(`qstatus-${qid}`);
  statusEl.textContent = isCorrect ? '✓' : '✗';
  statusEl.style.opacity = '1';
  statusEl.style.color = isCorrect ? 'var(--correct)' : 'var(--wrong)';

  const explEl = document.getElementById(`expl-${qid}`);
  explEl.innerHTML = `<strong>${isCorrect ? '✓ Correct answer.' : '✗ Incorrect answer.'}</strong> ${q.explanation}`;
  explEl.classList.add('show');

  document.getElementById(`btn-confirm-${qid}`).style.display = 'none';
  document.getElementById(`qcard-${qid}`).classList.add('answered');

  updateProgress();
  checkAllAnswered();
}

function updateProgress() {
  const answered = QUESTIONS.filter(q => userAnswers[q.id] !== undefined).length;
  const pct = (answered / QUESTIONS.length) * 100;
  document.getElementById('progress-bar-fill').style.width = pct + '%';
  document.getElementById('progress-counter').textContent = answered + '/20';
}

function checkAllAnswered() {
  const answered = QUESTIONS.filter(q => userAnswers[q.id] !== undefined).length;
  if (answered === QUESTIONS.length) {
    document.getElementById('submit-section').style.display = 'block';
    document.getElementById('submit-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
  }
}

// ─── SUBMIT ───
document.getElementById('btn-submit').addEventListener('click', () => {
  submitted = true;
  document.getElementById('quiz-area').style.display = 'none';
  document.getElementById('results-section').style.display = 'block';
  renderResults();
  document.getElementById('results-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
});

function renderResults() {
  const score = QUESTIONS.filter(q => userAnswers[q.id] === q.correct).length;
  const pct = Math.round((score / 20) * 100);

  document.getElementById('score-num').innerHTML = `${score}<span class="score-denom">/20</span>`;
  document.getElementById('score-pct').textContent = `${pct}% — ${score} correct answers`;

  let grade, gradeCls, trent, dec;
  if (score >= 18) { grade = 'Excellent'; gradeCls = 'eccellente'; trent = '27–30 / 30'; dec = '9–10 / 10'; }
  else if (score >= 15) { grade = 'Good'; gradeCls = 'buono'; trent = '23–26 / 30'; dec = '7–8 / 10'; }
  else if (score >= 13) { grade = 'Sufficient'; gradeCls = 'suff'; trent = '18–22 / 30'; dec = '6 / 10'; }
  else if (score >= 10) { grade = 'Insufficient'; gradeCls = 'insuff'; trent = '12–17 / 30'; dec = '5 / 10'; }
  else { grade = 'Failing'; gradeCls = 'insuff'; trent = '< 12 / 30'; dec = '< 5 / 10'; }

  const badge = document.getElementById('grade-badge');
  badge.textContent = grade;
  badge.className = 'grade-badge ' + gradeCls;
  document.getElementById('r-trent').textContent = trent;
  document.getElementById('r-dec').textContent = dec;
  document.getElementById('r-level').textContent = grade;

  const areaBreak = document.getElementById('area-breakdown');
  areaBreak.innerHTML = AREAS.map(area => {
    const correct = area.qs.filter(id => {
      const q = QUESTIONS.find(q => q.id === id);
      return userAnswers[id] === q.correct;
    }).length;
    const isPerfect = correct === area.qs.length;
    return `<div class="area-cell">
      <div class="area-cell-name">${area.label}</div>
      <div class="area-cell-score${isPerfect ? ' perfect' : ''}">${correct}/${area.qs.length}</div>
    </div>`;
  }).join('');
}

document.getElementById('btn-review').addEventListener('click', () => {
  document.getElementById('results-section').style.display = 'none';
  document.getElementById('quiz-area').style.display = 'block';
  document.getElementById('submit-section').style.display = 'none';
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

document.getElementById('btn-reset').addEventListener('click', () => {
  userAnswers = {};
  submitted = false;
  document.getElementById('results-section').style.display = 'none';
  document.getElementById('intro-card').style.display = 'block';
  document.getElementById('quiz-area').style.display = 'none';
  document.getElementById('progress-bar-fill').style.width = '0%';
  document.getElementById('progress-counter').textContent = '0/20';
  window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>
</body>
</html>
